<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="/stylesheet/user/address.css">
    <link rel="stylesheet" href="https://allyoucan.cloud/cdn/icofont/1.0.1/icofont.css" integrity="sha384-jbCTJB16Q17718YM9U22iJkhuGbS0Gd2LjaWb4YJEZToOPmnKDjySVa323U+W7Fv" crossorigin="anonymous">
    <script src="https://kit.fontawesome.com/197a2eac2f.js" crossorigin="anonymous"></script>
</head>
<body>
    <!-- <link
    href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css"
    rel="stylesheet"
  />  
   -->

  
   <style>
    /* Center the Manage Addresses title */
    .manage-addresses-title {
       text-align: center;
    }
   
    /* Style for the button container */
    .button-group {
       display: flex;
       justify-content: space-between;
    }
   
    /* Add border radius and box shadow to the media div */
    .gold-members {
    border-radius: 10px; /* Adjust as needed */
    box-shadow: 0 4px 8px 0 rgba(101, 94, 2, 0.307); /* Adjust as needed */
    height: 180px; 
    overflow-y: scroll; 
    -ms-overflow-style: none; 
    scrollbar-width: none; 
}

/* Hide scrollbar for Chrome, Safari, and Opera */
.gold-members::-webkit-scrollbar {
    display: none;
}
/* Define custom button styles */
.btn-custom {
  border: none;
  border-radius: 3px;
  padding: 6px 12px;
  cursor: pointer;
  transition: all 0.3s ease;
  font-size: 14px;
}

.btn-delete {
  background-color: #333; 
  color: #fff;
}

.btn-edit {
  background-color: #555;
  color: #fff; 
}

/* Add hover effect */
.btn-custom:hover {
  opacity: 0.8;
}

/* Add animation */
@keyframes pulse {
  0% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.05); /* Adjusted scale */
  }
  100% {
    transform: scale(1);
  }
}

.btn-custom:focus {
  animation: pulse 1s infinite alternate;
}

/* Custom styles for the addresses tab */
.custom-tab {
    color: #171717; 
    font-weight: bold; 
    font-size: 18px; 
    margin-left: 20px; 
}

/* Custom styles for the "Add Address" button */
.custom-btn {
    background-color: #111112; 
    color: #fff; 
    border: none; 
    padding: 10px 20px; 
    border-radius: 5px; 
    cursor: pointer;
    transition: background-color 0.3s ease;
    margin-left: 30px; 
}
.custom-btn:hover {
    background-color: #2f3031; 
}

/* Center the button */
.osahan-account-page-left {
    height: 100vh;
}

/* Add bounce animation */
@keyframes bounce {
    0% {
        transform: translateY(0);
    }
    100% {
        transform: translateY(-10px);
    }
}
/* Style for the delete modal container */
.delete-modal {
    position: fixed;
    z-index: 1;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    overflow: auto;
    background-color: rgba(0, 0, 0, 0.6); /* Darker background */
}

.delete-modal .modal-content {
    background-color: #fff;
    margin: 10% auto; /* Adjusted margin */
    padding: 30px;
    border: 2px solid #333; /* Thicker border */
    width: 50%;
    max-width: 500px; /* Max width for larger screens */
    border-radius: 10px; /* Rounded corners */
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); /* Box shadow for depth */
}

.delete-modal .close {
    color: #aaa;
    font-size: 24px;
    font-weight: bold;
    position: absolute;
    top: 10px;
    right: 10px;
    cursor: pointer;
}

.delete-modal .close:hover {
    color: #000; /* Darker color on hover */
}

.delete-modal .confirm-btn {
    background-color: #d32f2f; /* Darker red */
    color: #fff;
    padding: 12px 20px; /* Increased padding */
    border: none;
    border-radius: 5px;
    cursor: pointer;
    width: 100%;
    font-size: 16px;
    margin-top: 20px; /* Spacing from other elements */
}

.delete-modal .confirm-btn:hover {
    background-color: #b71c1c; /* Darker red on hover */
}
.back-button {
    position: absolute;
    top: 25px;
    left: 80px;
    z-index: 1000; /* Ensure the button is above other elements */
}

.back-button a {
    font-size: 24px; /* Increase the font size of the icon */
    padding: 10px; /* Add some padding around the icon */
    color: #000; /* Adjust the color as needed */
    text-decoration: none;
}

.back-button a:hover {
    color: #333; /* Change the color on hover */
}

@media only screen and (max-width: 768px) {
    .back-button {
        left: 20px; /* Adjust left position for smaller screens */
    }
}

.header {
            position: relative;
            width: 100%;
            height: 60px; /* Adjust the height as needed */
            background-color: #f8f9fa; /* Background color of the header */
        }



      

        .header-text {
            position: absolute;
            top: 70%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
        }
.header-text h1 {
    font-size: 3rem;
}
.container {
    position: relative;
    top: 25px; /* Adjust this value as needed */
}
h2 {
                margin-top: 0;
                font-weight: 600;
            }
   </style>
   
  
   <div class="back-button">
    <a href="javascript:history.back()"><i class="fas fa-arrow-left"></i></a>
</div>

<header class="header">
  
    <div class="header-text">
        <h1>ELAVATE</h1>
    </div>
    
</header>
<h2 style="text-align: center; margin-top: 25px; color: #424244; font-family: Arial, sans-serif">MANAGE ADDRESS</h2>

<div class="container">
    <div class="row">
        <div class="col-md-3">
          <a href="/profile" class="btn btn-dark mt-4">
            <i class="fas fa-arrow-left"></i> Back to Profile
        </a>
          <div class="osahan-account-page-left shadow-sm bg-white h-100">
            <ul class="nav nav-tabs flex-column border-0 pt-4 pl-4 pb-4" id="myTab" role="tablist">
                <li class="nav-item">
                    <a class="nav-link custom-tab" id="addresses-tab" data-toggle="tab" href="#addresses" role="tab" aria-controls="addresses" aria-selected="true">
                        <i class="fas fa-map-marker-alt"></i> Addresses
                    </a>
                </li>
                <li class="nav-item mt-5"> <!-- Added margin top -->
                    <button type="button" class="btn btn-primary font-weight-bold custom-btn" data-toggle="modal" data-target="#addAddressModal">Add Address</button>
                </li>
            </ul>
        </div>
        
        
        </div>
        <div class="col-md-9">
            <div class="osahan-account-page-right shadow-sm bg-white p-4 h-100">
                <div class="tab-content" id="myTabContent">
                    <div class="tab-pane fade  active show" id="addresses" role="tabpanel" aria-labelledby="addresses-tab">
                      <div class="row">
                            <% user.addresses.forEach((address, index) => { %>                              <div class="col-md-6">
                                  <div class="bg-white card addresses-item mb-4 shadow-sm">
                                      <div class="gold-members p-4">
                                          <div class="media">
                                              <div class="mr-3"><i class="icofont-briefcase icofont-3x"></i></div>
                                              <div class="media-body">

                                                



                                                  <h6 class="mb-1"><%= address.addressType %></h6>
                                                  <p> <%= address.country %>, <%= address.mobileNumber %>, <%= address.pincode %>, <%= address.flat %>, <%= address.district %>, <%= address.state %></p>
                                                  <p class="mb-0 text-black font-weight-bold">
                                                    <div class="button-group">
                                                      <!-- Edit button -->
                                                      <a href="/Editaddress/<%= address._id %>">
                                                        <button class="btn btn-custom btn-edit" onclick="showEditModal()">
                                                          <i class="icofont-ui-edit"></i> Edit
                                                        </button></a>
                                                    
                                                    
                                                      <!-- Delete button -->
                                                      <form id="deleteForm<%= index %>" method="POST" action="/delete/<%= address._id %>" class="delete-form">
                                                        <button type="button" onclick="openModal('<%= index %>')" class="btn btn-custom btn-delete">Delete</button>
                                                      </form>
                                                  </div>
                                                  </p>
                                              </div>
                                          </div>
                                      </div>
                                  </div>
                              </div>
                          <% }); %>
                      </div>
                           
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div id="confirmationModal" class="modal delete-modal">
  <div class="modal-content">
     <span class="close" onclick="closeModal()">&times;</span>
     <p>Are you sure you want to delete this product?</p>
     <button id="confirmDeleteButton" class="confirm-btn">Confirm</button>
  </div>
 </div>
 
<!-- modal 1 add address -->
<div class="modal fade" id="addAddressModal" tabindex="-1" role="dialog" aria-labelledby="addAddressModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="addAddressModalLabel">Add Address</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <!-- Form for adding address -->
        <form action="/Address" method="POST">
          <!-- <div class="form-group">
            <label for="address1">Address </label>
            <input type="text" class="form-control" name="address1" id="address1" required>
          </div> -->

          <div class="form-group" id="addressType">
            <label for="landmark">Address type</label>
            <select name="addressType"> 
                <option value="home">Home</option>
                <option value="work">Work</option>
            </select>
          <div class="form-group">
            <label for="country">Country/Region</label>
            <input type="text" class="form-control" name="country" id="country" required>
          </div>
          <div class="form-group">
            <label for="mobileNumber">Mobile number</label>
            <input type="number" class="form-control" name="mobileNumber" id="mobileNumber" required>
          </div>
          <div class="form-group">
            <label for="pincode">Pincode (6 digits [0-9])</label>
            <input type="text" class="form-control" name="pincode" id="pincode" required>
          </div>
          <div class="form-group">
            <label for="flat">Flat, House no., Building, Company, Apartment</label>
            <input type="text" class="form-control" name="flat" id="flat" required>
          </div>
          <div class="form-group">
          <label for="area">district</label>
                        <input type="text" id="district" class="form-control" name="district" required />
                    </div>   
                    <div class="form-group">
                        <label for="state">State</label>
                        <input type="text" id="state"  class="form-control" name="state" required />
                    </div>

      
          <button type="submit" class="btn btn-primary">Save Address</button>
        </form>
      </div>
    </div>
  </div>
</div>
<!-- Modal edit address -->




<!-- modal delete -->
<script>
  function openModal(index) {
    document.getElementById('confirmationModal').style.display = 'block';
    // Pass the index to the confirmDelete function
    document.getElementById('confirmDeleteButton').onclick = function () {
      confirmDelete(index);
    };
  }

  function closeModal() {
    document.getElementById('confirmationModal').style.display = 'none';
  }

  function confirmDelete(index) {
    // Get the form dynamically using the index
    document.getElementById('deleteForm' + index).submit();
  }
</script>








<!-- modal 2 edit adress  -->

<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.19.1/js/mdb.min.js"></script>

</body>
</html>