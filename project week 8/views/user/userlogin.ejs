<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Login</title>
        <link rel="stylesheet" href="/stylesheet/user/userlogin.css" />
  
        <style>
            .error-message {
                color: rgb(244, 244, 244);
                position: absolute;
                font-size: 14px;
                right: 500px;
                width: 210px;
                border-radius: 20px;
                background-color: rgba(255, 255, 255, 0.123);
            }
        </style>
        <script>
            function validateForm() {
                var email = document.forms["LoginForm"]["email"].value;
                var password = document.forms["LoginForm"]["password"].value;
                var confirmPassword = document.forms["LoginForm"]["confirmPassword"].value;
    
                document.getElementById("emailError1").innerText = "";
                document.getElementById("passwordError1").innerText = "";
                document.getElementById("confirmPasswordError1").innerText = "";
    
                var emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                if (!emailRegex.test(email)) {
                    document.getElementById("emailError1").innerText = "Please enter a valid email address";
                    return false;
                }
    
                if (password === "") {
                    document.getElementById("passwordError1").innerText = "Please enter your password";
                    return false;
                }
    
                if (confirmPassword === "") {
                    document.getElementById("confirmPasswordError1").innerText = "Please confirm your password";
                    return false;
                }
    
                if (password !== confirmPassword) {
                    document.getElementById("confirmPasswordError1").innerText = "Passwords do not match";
                    return false;
                }
    
                return true;
            }
        </script>
  
    </head>
    <body>
        <div id="algn">
            <div id="container">
                <p class="head">Login</p>
                <% if (message) { %>
                    <p><%= message %></p>
                <% } %>
                <form
                name="LoginForm"
                action="/login"
                method="POST"
                class="input-container"
                onsubmit="return validateForm()" 
            >
            
                    <div class="input-field">
                        <label for="email">E-mail</label>
                        <br>
                        <input type="text" name="email" id="email" placeholder="Enter email" class="inpt" />
                        <span id="emailError1" class="error-message"></span>
                    </div>

                    <div class="input-field">
                        <label for="password">Password</label>
                        <br>
                        <input type="password" name="password" id="password" placeholder="Enter password" class="inpt" />
                        <span id="passwordError1" class="error-message"></span>
                    </div>

                    <div class="rem-forgot">
                        <span><a href="/forgotpassword">Forgot password</a></span>
                    </div>
                    <button type="submit" class="btn">Login</button>
                </form>
                <p class="footer">Don't have an account? <a href="getRegister">Signup</a></p>
            </div>
        </div>
    </body>
</html>
